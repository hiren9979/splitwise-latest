<div class="add-expense-container">
    <button mat-icon-button (click)="goBack()" aria-label="Back">
        <mat-icon>arrow_back</mat-icon>
    </button>
    <h2 class="text-center">Add Expense</h2>

    <form (ngSubmit)="onSubmit()" #expenseForm="ngForm">
        <div class="form-group">
            <label for="userSelect">Select User:</label>
            <select id="userSelect" class="form-control" required [(ngModel)]="selectedUser" name="user"
                #userSelect="ngModel">
                <option *ngFor="let user of users" [value]="user.id">{{ user.name }}</option>
            </select>
        </div>

        <h4>Selected Users:</h4>
        <ul *ngIf="selectedUsers.length > 0">
            <li *ngFor="let user of selectedUsers">{{ user }}</li>
        </ul>
        <ng-container *ngIf="selectedUsers.length === 0">
            <p>No users selected.</p>
        </ng-container>

        <div class="form-group">
            <label for="totalExpense">Total Expense:</label>
            <input type="number" id="totalExpense" class="form-control" required [(ngModel)]="totalExpense"
                name="totalExpense" />
        </div>

        <div class="form-group">
            <label for="notes">Notes:</label>
            <textarea id="notes" class="form-control" [(ngModel)]="notes" name="notes"></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <div *ngIf="submitted" class="mt-3">
        <h4>Expense Details:</h4>
        <p>User: {{ selectedUserName }}</p>
        <p>Total Expense: ${{ totalExpense }}</p>
        <p>Notes: {{ notes }}</p>
    </div>
</div>